<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Job Tracker v2.5</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div id="main-app-wrapper">
        <header id="app-header">
            <span id="header-title">Job Tracker</span>
            <div style="display: flex; gap: 10px; align-items: center;">
                <button id="logout-btn" class="btn-small hidden" style="background: transparent; border: 1px solid white; color: white;" onclick="logout()">Logout</button>
                <img id="user-profile-pic" src="" class="profile-pic hidden" onclick="openSettingsModal()" alt="Profile">
            </div>
        </header>

        <div class="container">
            <div id="login-view">
                <h2 style="text-align:center; margin-top:40px;">Job Tracker</h2>
                <button class="btn btn-primary" style="margin-top:20px;" onclick="loginWithGoogle()">Sign in with Google</button>
            </div>

            <div id="home-view" class="hidden">
                <button class="btn btn-primary" onclick="openAddJobModal()">+ Add New Job</button>
                <div id="jobs-container" style="margin-top:20px;"></div>
            </div>

            <div id="job-detail-view" class="hidden">
                <button class="btn btn-small" onclick="goHome()">‚Üê Back to Jobs</button>
                <h2 id="current-job-title" style="margin: 20px 0 10px 0;"></h2>
                
                <div id="tasks-container"></div>

                <div class="task-row" style="background: var(--light-gray); margin-top:30px; padding:15px; border-radius:8px;">
                    <h3>Add New Task</h3>
                    <input type="text" id="new-task-title" placeholder="Task Name">
                    
                    <label style="display:block; margin-top:10px; font-weight:bold;">Due Date & Time</label>
                    <div style="display:flex; gap:10px;">
                        <input type="date" id="new-task-date" style="flex:2;">
                        <input type="time" id="new-task-time" style="flex:1;">
                    </div>

                    <button class="btn btn-outline" style="margin-top:15px; width:100%; color:#4285F4; border-color:#4285F4;" onclick="openTaskCalendarTemplate()">
                        üìÖ Sync to Phone Calendar
                    </button>
                    
                    <button class="btn btn-primary" style="margin-top:10px;" onclick="addTask()">Save Task to Tracker</button>
                </div>
            </div>
        </div>
    </div>

    <div id="add-job-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" onclick="closeAddJobModal()">&times;</span>
            <h2>New Job</h2>
            <input type="text" id="add-job-title" placeholder="Job Title (e.g. Kitchen Remodel)">
            
            <label style="display:block; margin-top:15px; font-weight:bold;">Start Date & Time</label>
            <div style="display:flex; gap:10px;">
                <input type="date" id="add-job-date" style="flex:2;">
                <input type="time" id="add-job-time" style="flex:1;">
            </div>

            <button class="btn btn-outline" style="margin-top:15px; width:100%; color:#4285F4; border-color:#4285F4;" onclick="openJobCalendarTemplate()">
                üìÖ Add to Phone Calendar
            </button>

            <button class="btn btn-primary" style="margin-top:20px;" onclick="saveNewJob()">Create Job</button>
        </div>
    </div>

    <script type="module" src="js/app.js?v=99"></script>
</body>
</html>
